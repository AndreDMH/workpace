(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fabcc15c"],{"4a5c":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editTrafficplatformList"},[i("d2-container",[i("template",{slot:"header"},[i("div",{staticClass:"flex ryt-right-top"},[i("div",{staticClass:"line_header"}),e._v("新建流量平台 ")])]),i("div",{staticClass:"editTrafficplatformList_title",staticStyle:{"margin-left":"20px"}},[i("div",{staticClass:"formTitle"},[e._v("基础信息")])]),i("div",{staticClass:"platformInfo"},[i("el-form",{ref:"mainForm",attrs:{model:e.mainForm,rules:e.rytproject,"label-width":"240px"}},[i("el-form-item",{attrs:{label:"平台名称：",prop:"media_platform_name"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入平台名称"},model:{value:e.mainForm.media_platform_name,callback:function(t){e.$set(e.mainForm,"media_platform_name",t)},expression:"mainForm.media_platform_name"}})],1),i("el-form-item",{attrs:{label:"公司名称：",prop:"company_name"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入公司名称"},model:{value:e.mainForm.company_name,callback:function(t){e.$set(e.mainForm,"company_name",t)},expression:"mainForm.company_name"}})],1),i("el-form-item",{attrs:{label:"运营：",prop:"operation_id"}},[i("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择",filterable:""},model:{value:e.mainForm.operation_id,callback:function(t){e.$set(e.mainForm,"operation_id",t)},expression:"mainForm.operation_id"}},e._l(e.operation,(function(e,t){return i("el-option",{key:t,attrs:{label:e.operation_name,value:e.operation_id}})})),1)],1),i("el-form-item",{attrs:{label:"市场：",prop:"business_id"}},[i("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择",filterable:""},model:{value:e.mainForm.business_id,callback:function(t){e.$set(e.mainForm,"business_id",t)},expression:"mainForm.business_id"}},e._l(e.business,(function(e,t){return i("el-option",{key:t,attrs:{label:e.business_name,value:e.business_id}})})),1)],1)],1),e.isEdit?i("div",{staticStyle:{"text-align":"center","margin-top":"80px"},attrs:{type:"flex"}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitRule("edit")}}},[e._v("保存")]),i("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1):i("div",{staticStyle:{"text-align":"center","margin-top":"80px"},attrs:{type:"flex"}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitRule("form")}}},[e._v("提交")]),i("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],2)],1)},a=[],r=(i("7f7f"),i("ac6a"),i("96cf"),i("3b8d")),s={data:function(){return{isEdit:!1,mainForm:{media_platform_name:"",company_name:"",operation_id:"",business_id:""},business:[],operation:[],rytproject:{media_platform_name:[{required:!0,message:"流量平台名称不能为空",trigger:"blur"}],company_name:[{required:!0,message:"公司名称不能为空",trigger:"blur"}],business_id:[{required:!0,message:"请选择平台商务",trigger:"blur"}],operation_id:[{required:!0,message:"请选择平台运营",trigger:"blur"}]}}},created:function(){this.isEdit=!!this.$route.query.id,this.getOperation(),this.getBusiness(),this.isEdit&&this.getTrafficplatform()},methods:{getTrafficplatform:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.id,e.next=3,this.$http.get(this.baseUrl.ip1+"/mediaPlatform/edit/".concat(t));case 3:i=e.sent,n=i.data,a=n,this.mainForm.media_platform_name=a.media_platform_name,this.mainForm.company_name=a.company_name,this.mainForm.operation_id=a.operation_id,this.mainForm.business_id=a.business_id;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitRule:function(e){var t=this;this.$refs.mainForm.validate((function(i){i?"form"==e?t.submitForm():"edit"==e&&t.submitEdit():t.$message({type:"info",message:"您有未填写的信息，请检查"})}))},submitForm:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},t.media_platform_name=this.mainForm.media_platform_name,t.company_name=this.mainForm.company_name,t.operation_id=this.mainForm.operation_id,t.business_id=this.mainForm.business_id,e.next=4,this.$http.post(this.baseUrl.ip1+"/mediaPlatform/store",t).then((function(e){200==e.code&&(i.$message.success(e.msg),i.$router.go(-1))}));case 4:e.sent;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitEdit:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$route.query.id,t={},t.media_platform_name=this.mainForm.media_platform_name,t.company_name=this.mainForm.company_name,t.operation_id=this.mainForm.operation_id,t.business_id=this.mainForm.business_id,t.id=this.$route.query.id,e.next=6,this.$http.post(this.baseUrl.ip1+"/mediaPlatform/store",t).then((function(e){200==e.code&&(i.$message.success(e.msg),i.$router.go(-1))}));case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getOperation:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.baseUrl.ip1+"/operation/list");case 2:t=e.sent,i=t.data,console.log("运营人员下拉列表",i),n=i,n.forEach((function(e,t){a.operation.push({operation_name:e.name,operation_id:e.id})}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBusiness:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.baseUrl.ip1+"/business/list");case 2:t=e.sent,i=t.data,console.log("商务人员下拉列表",i),n=i,n.forEach((function(e,t){a.business.push({business_name:e.name,business_id:e.id})}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.$router.go(-1)}}},o=s,m=(i("5eb7"),i("2877")),c=function(e){e.options.__source="src/views/pages/mediaManage/trafficplatform/editTrafficplatform/index.vue"},u=c,l=Object(m["a"])(o,n,a,!1,null,null,null);"function"===typeof u&&u(l);t["default"]=l.exports},"5eb7":function(e,t,i){"use strict";i("cee46")},cee46:function(e,t,i){}}]);
//# sourceMappingURL=chunk-fabcc15c.f5a9299a.js.map