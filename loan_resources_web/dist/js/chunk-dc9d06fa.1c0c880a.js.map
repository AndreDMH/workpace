{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./src/views/pages/accountManage/roleMeg/editRoles/index.vue?ae67","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/views/pages/accountManage/roleMeg/editRoles/index.vue?542e","webpack:///src/views/pages/accountManage/roleMeg/editRoles/index.vue","webpack:///./src/views/pages/accountManage/roleMeg/editRoles/index.vue?e838","webpack:///./src/views/pages/accountManage/roleMeg/editRoles/index.vue?a46c","webpack:///./src/views/pages/accountManage/roleMeg/editRoles/index.vue?fc49","webpack:///./src/views/pages/accountManage/roleMeg/editRoles/index.vue"],"names":["$export","context","INCLUDES","P","F","includes","searchString","this","indexOf","arguments","length","undefined","MATCH","module","exports","KEY","re","e","f","$includes","el","isRegExp","defined","that","NAME","TypeError","String","render","_vm","_h","$createElement","_c","_self","slot","staticClass","_v","_s","title","ref","staticStyle","attrs","usersForm","rytproject","model","value","callback","$$v","$set","expression","tableData","background","scopedSlots","_u","key","fn","scope","on","checked","handleCheckChange","row","id","name","_l","item","directives","rawName","selectId","handChange","secondAll","second","$event","initAllColumn","items","index","is_created","ClickChangeTwo","text","handleAddForm","dialogVisible","dialogDataList","selectColumnArr","clickPlay","handleClose","clearAll","_e","staticRenderFns","components","selectDialog","data","checkAll","checkedCities","cities","cityOptions","isIndeterminate","all_info","base_info","product_info","limit_level_options","tableRules","newData","showData","hiddenData","dataList","renderFunc","column_id","methods","refreshCheckedData","cinfigShow","JSON","parse","stringify","AllData","$forceUpdate","selectArr","operation","r","list","console","log","forEach","fitem","child","allChecked","selectItem","count","val","dataAll","check","useShowArray","is_commission","ClickChange","numberStr","is_edit","is_deleted","handleCheckAllChange","handleCheckedCitiesChange","checkedCount","a","b","q","$nextTick","valid","$message","success","dragstart","moveDom","currentTarget","startY","clientY","created","$route","query","getRoleInfo","Component","options","__source","component"],"mappings":"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","file":"js/chunk-dc9d06fa.1c0c880a.js","sourcesContent":["// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/@d2-projects/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=style&index=0&id=361c5b06&lang=scss&scoped=true&\"","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('d2-container',[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"flex ryt-right-top\"},[_c('div',{staticClass:\"line_header\"}),_vm._v(\" \"+_vm._s(_vm.title)+\" \")])]),_c('div',{staticClass:\"roleForm\"},[_c('el-form',{ref:\"projectInfoRef\",staticStyle:{\"padding-left\":\"50px\"},attrs:{\"model\":_vm.usersForm,\"rules\":_vm.rytproject}},[_c('el-form-item',{attrs:{\"label\":\"角色名称 :\",\"prop\":\"name\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入角色名称\"},model:{value:(_vm.usersForm.name),callback:function ($$v) {_vm.$set(_vm.usersForm, \"name\", $$v)},expression:\"usersForm.name\"}})],1),_c('div',{staticClass:\"addRoles_title\",staticStyle:{\"margin-left\":\"-6px\"}},[_c('div',{staticClass:\"formTitle\"},[_vm._v(\"配置模板\")])]),_c('el-table',{staticClass:\"tableClass\",attrs:{\"data\":_vm.tableData,\"max-height\":\"700\",\"size\":\"medium\",\"header-cell-style\":{ background: '#f5f5f5' }}},[_c('el-table-column',{staticClass:\"table-header\",attrs:{\"label\":\"权限类型\",\"align\":\"center\",\"prop\":\"id\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0px\"}},[_c('el-checkbox',{attrs:{\"true-label\":1,\"false-label\":0},on:{\"change\":function (checked) { return _vm.handleCheckChange(checked, scope.row.id); }},model:{value:(scope.row.selectId),callback:function ($$v) {_vm.$set(scope.row, \"selectId\", $$v)},expression:\"scope.row.selectId\"}},[_vm._v(_vm._s(scope.row.name))])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"权限名称\",\"align\":\"left\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{staticClass:\"table-name\"},[_c('el-checkbox-group',{model:{value:(scope.row.second),callback:function ($$v) {_vm.$set(scope.row, \"second\", $$v)},expression:\"scope.row.second\"}},_vm._l((scope.row.secondAll),function(item){return _c('el-checkbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.id),expression:\"item.id\"}],key:item.id,attrs:{\"label\":item.id,\"disabled\":scope.row.selectId ? false : true},on:{\"change\":function (checked) { return _vm.handChange(\n                        checked,\n                        scope.row.secondAll,\n                        scope.row.second,\n                        item.id\n                      ); }}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"250\",\"align\":\"left\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.secondAll),function(item){return _c('el-form-item',{key:item.id,staticClass:\"useClass\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(scope.row.id == '6'),expression:\"scope.row.id == '6'\"}],attrs:{\"type\":\"text\",\"size\":\"medium\",\"disabled\":item.checked ? false : true},on:{\"click\":function($event){return _vm.initAllColumn(scope.row, item.id)}}},[_vm._v(\"设置字段 \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.id == 1),expression:\"item.id == 1\"}]},[_c('el-checkbox-group',{model:{value:(item.useArray),callback:function ($$v) {_vm.$set(item, \"useArray\", $$v)},expression:\"item.useArray\"}},_vm._l((item.useShowArray),function(items,index){return _c('el-checkbox',{key:index,staticStyle:{\"margin-left\":\"-5px\",\"margin-right\":\"15px\"},attrs:{\"disabled\":item.checked ? false : true,\"label\":items.is_created},on:{\"change\":function($event){return _vm.ClickChangeTwo()}}},[_vm._v(\" \"+_vm._s(items.name)+\" \")])}),1)],1)],1)})}}])}),_c('el-table-column',{attrs:{\"label\":\"权限描述\",\"width\":\"250\",\"align\":\"left\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-form-item',{staticClass:\"table-border\"},_vm._l((scope.row.secondAll),function(item,index){return _c('div',{key:index,staticStyle:{\"border\":\"none\",\"line-height\":\"20px\"}},[_vm._v(\" \"+_vm._s(item.text)+\" \")])}),0)]}}])})],1),_c('el-form-item',{staticStyle:{\"padding-left\":\"150px\",\"margin-top\":\"20px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddForm}},[_vm._v(\"提交\")])],1)],1),(_vm.dialogVisible)?_c('div',[_c('selectDialog',{attrs:{\"dialogVisible\":_vm.dialogVisible,\"dataLists\":_vm.dialogDataList,\"selectColumnArr\":_vm.selectColumnArr},on:{\"clickPlay\":_vm.clickPlay,\"handleClose\":_vm.handleClose,\"clearAll\":_vm.clearAll}})],1):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- create by lyp on 2019-12-12 -->\r\n  <d2-container>\r\n    <template slot=\"header\">\r\n      <div class=\"flex ryt-right-top\">\r\n        <div class=\"line_header\"></div>\r\n        {{ title }}\r\n      </div>\r\n    </template>\r\n    <div class=\"roleForm\">\r\n      <el-form\r\n        ref=\"projectInfoRef\"\r\n        :model=\"usersForm\"\r\n        :rules=\"rytproject\"\r\n        style=\"padding-left: 50px;\"\r\n      >\r\n        <el-form-item label=\"角色名称 :\" prop=\"name\">\r\n          <el-input\r\n            style=\"width: 300px;\"\r\n            v-model=\"usersForm.name\"\r\n            placeholder=\"请输入角色名称\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <div class=\"addRoles_title\" style=\"margin-left:-6px\">\r\n          <div class=\"formTitle\">配置模板</div>\r\n        </div>\r\n        <el-table\r\n          :data=\"tableData\"\r\n          max-height=\"700\"\r\n          size=\"medium\"\r\n          class=\"tableClass\"\r\n          :header-cell-style=\"{ background: '#f5f5f5' }\"\r\n        >\r\n          <el-table-column\r\n            label=\"权限类型\"\r\n            align=\"center\"\r\n            prop=\"id\"\r\n            width=\"250\"\r\n            class=\"table-header\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item style=\"margin-bottom: 0px;\">\r\n                <el-checkbox\r\n                  v-model=\"scope.row.selectId\"\r\n                  :true-label=\"1\"\r\n                  :false-label=\"0\"\r\n                  @change=\"\r\n                    (checked) => handleCheckChange(checked, scope.row.id)\r\n                  \"\r\n                  >{{ scope.row.name }}</el-checkbox\r\n                >\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"权限名称\" align=\"left\" width=\"200\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item class=\"table-name\">\r\n                <el-checkbox-group v-model=\"scope.row.second\">\r\n                  <el-checkbox\r\n                    v-show=\"item.id\"\r\n                    v-for=\"item in scope.row.secondAll\"\r\n                    :label=\"item.id\"\r\n                    :key=\"item.id\"\r\n                    :disabled=\"scope.row.selectId ? false : true\"\r\n                    @change=\"\r\n                      (checked) =>\r\n                        handChange(\r\n                          checked,\r\n                          scope.row.secondAll,\r\n                          scope.row.second,\r\n                          item.id\r\n                        )\r\n                    \"\r\n                  >\r\n                    {{ item.name }}\r\n                    <!-- <el-button\r\n                      v-show=\"scope.row.id =='2'\"\r\n                      type=\"text\"\r\n                      size=\"medium\"\r\n                      :disabled=\"item.checked ? false :true\"\r\n                      @click=\"initAllColumn(scope.row,item.id)\"\r\n                    >设置字段</el-button> -->\r\n                  </el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- 操作 -->\r\n          <el-table-column label=\"操作\" width=\"250\" align=\"left\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item\r\n                class=\"useClass\"\r\n                v-for=\"item in scope.row.secondAll\"\r\n                :key=\"item.id\"\r\n              >\r\n                <el-button\r\n                  v-show=\"scope.row.id == '6'\"\r\n                  type=\"text\"\r\n                  size=\"medium\"\r\n                  :disabled=\"item.checked ? false : true\"\r\n                  @click=\"initAllColumn(scope.row, item.id)\"\r\n                  >设置字段\r\n                </el-button>\r\n\r\n                <div v-show=\"item.id == 1\">\r\n                  <el-checkbox-group v-model=\"item.useArray\">\r\n                    <el-checkbox\r\n                      style=\"margin-left: -5px;margin-right: 15px;\"\r\n                      :disabled=\"item.checked ? false : true\"\r\n                      v-for=\"(items, index) in item.useShowArray\"\r\n                      :label=\"items.is_created\"\r\n                      :key=\"index\"\r\n                      @change=\"ClickChangeTwo()\"\r\n                    >\r\n                      {{ items.name }}\r\n                    </el-checkbox>\r\n                  </el-checkbox-group>\r\n                </div>\r\n\r\n                <!-- </div> -->\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- 操作-完 -->\r\n          <el-table-column label=\"权限描述\" width=\"250\" align=\"left\">\r\n            <template slot-scope=\"scope\">\r\n              <el-form-item class=\"table-border\">\r\n                <div\r\n                  v-for=\"(item, index) in scope.row.secondAll\"\r\n                  :key=\"index\"\r\n                  style=\"border:none;line-height:20px\"\r\n                >\r\n                  {{ item.text }}\r\n                </div>\r\n              </el-form-item>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-form-item style=\"padding-left: 150px;margin-top:20px\">\r\n          <el-button type=\"primary\" @click=\"handleAddForm\">提交</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div v-if=\"dialogVisible\">\r\n        <selectDialog\r\n          :dialogVisible=\"dialogVisible\"\r\n          :dataLists=\"dialogDataList\"\r\n          :selectColumnArr=\"selectColumnArr\"\r\n          @clickPlay=\"clickPlay\"\r\n          @handleClose=\"handleClose\"\r\n          @clearAll=\"clearAll\"\r\n        ></selectDialog>\r\n      </div>\r\n    </div>\r\n  </d2-container>\r\n</template>\r\n\r\n<script>\r\nconst cityOptions = [\"基本信息\", \"产品信息\"];\r\nimport selectDialog from \"../../../../../components/selectData/selectDialog.vue\";\r\nexport default {\r\n  name: \"editRoles\",\r\n  components: {\r\n    selectDialog,\r\n  },\r\n  data() {\r\n    return {\r\n      checkAll: false,\r\n      checkedCities: [\"基本信息\", \"产品信息\"],\r\n      cities: cityOptions,\r\n      isIndeterminate: true,\r\n\r\n      all_info: 0,\r\n      base_info: 1,\r\n      product_info: 1,\r\n      usersForm: {\r\n        name: \"\", //角色名称\r\n        id: \"\",\r\n      },\r\n      title: \"\",\r\n      limit_level_options: [],\r\n      tableData: [\r\n        {\r\n          selectId: 0, //是否选中权限类型\r\n          id: 18, //权限id\r\n          name: \"资源管理\", //权限名称\r\n          secondAll: [\r\n            {\r\n              id: 46,\r\n              name: \"平台管理\",\r\n              text: \"可以创建/编辑SSP平台\",\r\n              list: [],\r\n              checked: false,\r\n            },\r\n            {\r\n              id: 47,\r\n              name: \"应用管理\",\r\n              text: \"可以创建/编辑应用\",\r\n              list: [],\r\n              checked: false,\r\n            },\r\n            {\r\n              id: 48,\r\n              name: \"广告位管理\",\r\n              text: \"可以创建/编辑广告位\",\r\n              list: [],\r\n              checked: false,\r\n            },\r\n          ],\r\n          second: [\r\n            //选中的权限\r\n          ],\r\n        },\r\n        {\r\n          selectId: 0,\r\n          id: 19,\r\n          name: \"录入支出\",\r\n          secondAll:[\r\n            {\r\n              id: 49,\r\n              name: \"录入支出\",\r\n              text: \"数据录入\",\r\n              checked: false,\r\n            }\r\n          ],\r\n          second:[]\r\n        },\r\n        {\r\n          selectId: 0,\r\n          id: 20,\r\n          name: \"数据报表\",\r\n          secondAll: [\r\n            {\r\n              id:53,\r\n              name:\"整体数据\",\r\n              text:\"可以查看整体数据\",\r\n              list:[],\r\n              checked:false\r\n            },\r\n            {\r\n              id:50,\r\n              name: \"发布数据\",\r\n              text: \"可以查看发布数据\",\r\n              list: [],\r\n              checked: false\r\n            },\r\n          ],\r\n          second: [\r\n            //选中的权限\r\n          ],\r\n        },\r\n        {\r\n          selectId: 0,\r\n          id: 21,\r\n          name: \"账户管理\", \r\n          secondAll: [\r\n            //所有的权限\r\n            {\r\n              id: 51,\r\n              name: \"账户管理\",\r\n              text: \"可以新建、编辑、删除账户\",\r\n              checked: false,\r\n            },\r\n            {\r\n              id: 52,\r\n              name: \"角色管理\",\r\n              text: \"可以新建、编辑、删除角色\",\r\n              checked: false,\r\n            },\r\n          ],\r\n          second: [\r\n            //选中的权限\r\n          ],\r\n        },\r\n      ],\r\n      rytproject: {\r\n        name: [\r\n          { required: true, message: \"请输入角色名称\", trigger: \"blur\" },\r\n          { min: 1, max: 30, message: \"字符1-30之间\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      tableRules: {\r\n        second: [\r\n          { required: true, message: \"请选择权限名称\", trigger: \"blur\" },\r\n        ],\r\n      },\r\n      newData: [],\r\n      showData: [],\r\n      hiddenData: [],\r\n      dataList: [],\r\n      renderFunc(h, option) {\r\n        return (\r\n          <span>\r\n            {option.key} - {option.label}\r\n          </span>\r\n        );\r\n      },\r\n      column_id: \"\", //列控制传的id\r\n      dialogVisible: false,\r\n      selectColumnArr: [],\r\n      dialogDataList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    clearAll() {\r\n      this.selectColumnArr = [];\r\n      this.refreshCheckedData();\r\n    },\r\n    cinfigShow(str) {\r\n      this.selectColumnArr = JSON.parse(JSON.stringify(this.showData));\r\n      this.dialogDataList = JSON.parse(JSON.stringify(this.AllData));\r\n      this.$forceUpdate();\r\n      this.refreshCheckedData();\r\n      this.dialogVisible = true;\r\n    },\r\n    handleClose() {\r\n      this.dialogVisible = false;\r\n    },\r\n    clickPlay(operation, isSelectSave, saveName, selectArr) {\r\n      this.selectColumnArr = JSON.parse(JSON.stringify(selectArr));\r\n      if (operation != 0) {\r\n        for (let e = 0; e < this.tableData.length; e++) {\r\n          for (let r = 0; r < this.tableData[e].secondAll.length; r++) {\r\n            if (this.tableData[e].secondAll[r].id == this.column_id) {\r\n              this.tableData[e].secondAll[r].list = this.selectColumnArr;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        console.log(\"取消\");\r\n      }\r\n      this.dialogVisible = false;\r\n    },\r\n\r\n    // 同步左侧勾选\r\n    refreshCheckedData() {\r\n      if (this.selectColumnArr.length == 0) {\r\n        return;\r\n      }\r\n      this.dialogDataList.forEach((fitem) => {\r\n        fitem.child.forEach((item) => {\r\n          let count = 0;\r\n          item.allChecked = false;\r\n          item.child.forEach((data) => {\r\n            data.checked = false;\r\n            this.selectColumnArr.forEach((selectItem) => {\r\n              if (data.id == selectItem.id) {\r\n                data.checked = true;\r\n                count++;\r\n              }\r\n            });\r\n          });\r\n          if (count == item.child.length) {\r\n            item.allChecked = true;\r\n          }\r\n        });\r\n      });\r\n      console.log(this.dialogDataList);\r\n    },\r\n    handleCheckChange(val, id) {\r\n      //如果没有选择，则把权限名称全部默认未选中状态\r\n      this.tableData.forEach((item, index) => {\r\n        if (item.id == id && val != \"1\") {\r\n          item.second = [];\r\n        }\r\n      });\r\n    },\r\n    handChange(check, dataAll, data, id) {\r\n      dataAll.forEach((item, index) => {\r\n        if (item.id == id) {\r\n          if (!check) {\r\n            // item.list = [];\r\n          }\r\n          item.checked = check;\r\n        }\r\n      });\r\n    },\r\n    //获取编辑信息\r\n    async getRoleInfo() {\r\n      let id = this.$route.query.id;\r\n      let url = this.baseUrl.ip1 + `/role/update/${id}`;\r\n      const { data: res } = await this.$http.get(url);\r\n      this.usersForm.name = res.name;\r\n      this.usersForm.id = res.id;\r\n      let newJieshou = [];\r\n      newJieshou = res.permissions;\r\n      newJieshou.forEach((item, index) => {\r\n        this.tableData.forEach((p, o) => {\r\n          // if(p.id == '4'){\r\n          //   if(p.secondAll[1])\r\n          //     console.log('打印返回数据',p,o);\r\n          // }\r\n          if (item.id == p.id) {\r\n            p.selectId = 1;\r\n            item.second.map((q) => {\r\n              p.second.push(q.id);\r\n            });\r\n            p.secondAll.forEach((e, r) => {\r\n              item.second.forEach((k, w) => {\r\n                if (e.id == k.id) {\r\n                  e.checked = true;\r\n                  e.list = k.list;\r\n                  e.is_created = k.is_created;\r\n                  e.is_edit = k.is_edit;\r\n                  e.is_deleted = k.is_deleted;\r\n                  e.edit_column = k.edit_column;\r\n                  e.is_commission = k.is_commission;\r\n                }\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.tableData.forEach((item, index) => {\r\n        if (item.id == \"1\") {\r\n          if (item.secondAll[0].id == \"1\") {\r\n            if (item.secondAll[0].is_commission == 1) {\r\n              item.secondAll[0].useArray.push(1);\r\n              item.secondAll[0].useShowArray[0].check = true;\r\n            }\r\n          }\r\n        }\r\n      });\r\n      console.log(\"打印返回数据\", this.tableData);\r\n    },\r\n\r\n    ClickChangeTwo() {\r\n      this.tableData.forEach((item, index) => {\r\n        if (item.id == \"1\") {\r\n          if (item.secondAll[0].id == \"1\") {\r\n            //  console.log(\"打印书怒\",item.secondAll[0].useShowArray[0].check);\r\n            if (item.secondAll[0].useShowArray[0].check == false) {\r\n              item.secondAll[0].is_commission = 1;\r\n              item.secondAll[0].useShowArray[0].check = true;\r\n            } else {\r\n              item.secondAll[0].is_commission = 0;\r\n              item.secondAll[0].useShowArray[0].check = false;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      console.log(\"打印\\数据\", this.tableData);\r\n    },\r\n    ClickChange(numberStr) {\r\n      this.tableData.forEach((item, index) => {\r\n        if (item.id == \"4\") {\r\n          if (item.secondAll[1].id == \"2\") {\r\n            item.secondAll[1].useShowArray[numberStr].check = !item.secondAll[1]\r\n              .useShowArray[numberStr].check;\r\n\r\n            if (numberStr == \"0\") {\r\n              if (item.secondAll[1].useShowArray[numberStr].check) {\r\n                item.secondAll[1].is_created = \"1\";\r\n              } else {\r\n                item.secondAll[1].is_created = \"0\";\r\n              }\r\n            } else if (numberStr == \"1\") {\r\n              if (item.secondAll[1].useShowArray[numberStr].check) {\r\n                item.secondAll[1].is_edit = \"1\";\r\n              } else {\r\n                item.secondAll[1].is_edit = \"0\";\r\n              }\r\n            } else if (numberStr == \"2\") {\r\n              if (item.secondAll[1].useShowArray[numberStr].check) {\r\n                item.secondAll[1].is_deleted = \"1\";\r\n              } else {\r\n                item.secondAll[1].is_deleted = \"0\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleCheckAllChange(val) {\r\n      this.checkedCities = val ? cityOptions : [];\r\n      this.isIndeterminate = false;\r\n    },\r\n    handleCheckedCitiesChange(value) {\r\n      let checkedCount = value.length;\r\n      this.checkAll = checkedCount === this.cities.length;\r\n      this.isIndeterminate =\r\n        checkedCount > 0 && checkedCount < this.cities.length;\r\n    },\r\n\r\n    //提交角色信息\r\n    handleAddForm() {\r\n      if (this.usersForm.name) {\r\n        this.newData = [];\r\n        this.tableData.forEach((item, index) => {\r\n          if (item.selectId == \"1\") {\r\n            for (var a = 0; a < item.secondAll.length; a++) {\r\n              for (var b = 0; b < item.second.length; b++) {\r\n                if (item.secondAll[a].id == item.second[b]) {\r\n                  item.second[b] = item.secondAll[a];\r\n                  delete item.secondAll[a].text;\r\n                }\r\n              }\r\n            }\r\n            this.newData.push(item);\r\n          }\r\n        });\r\n        for (var q = 0; q < this.newData.length; q++) {\r\n          if (this.newData[q].second) {\r\n            delete this.newData[q].selectId;\r\n            delete this.newData[q].secondAll;\r\n            delete this.newData[q].checked;\r\n          }\r\n        }\r\n        this.$nextTick(() => {\r\n          this.$refs.projectInfoRef.validate((valid) => {\r\n            if (valid) {\r\n              this.usersForm.id ? this.saveSubmit() : this.handleSubmit();\r\n              //  console.log('提交的信息',this.newData);\r\n            }\r\n            // console.log('提交的信息',this.checkedCities);\r\n          });\r\n        });\r\n      } else {\r\n        this.$message.success(\"请输入角色名称\");\r\n      }\r\n    },\r\n    async saveSubmit() {\r\n      //编辑保存\r\n      let id = this.$route.query.id;\r\n      let url = this.baseUrl.ip1 + `/role/update/${id}`;\r\n      let listing = {\r\n        name: this.usersForm.name,\r\n        permissions: this.newData,\r\n      };\r\n      const { data: res } = await this.$http.post(url, listing);\r\n      //修改之后回到上一页\r\n      this.$router.go(-1);\r\n    },\r\n    async handleSubmit() {\r\n      //新增保存\r\n      let url = this.baseUrl.ip1 + `/role/store`;\r\n      let listing = {\r\n        name: this.usersForm.name,\r\n        permissions: this.newData,\r\n      };\r\n      const { data: res } = await this.$http.post(url, listing);\r\n      this.$router.go(-1);\r\n    },\r\n    /*---------------列设置开始---------------*/\r\n    dragstart(e) {\r\n      this.moveDom = e.currentTarget;\r\n      this.startY = e.clientY;\r\n    },\r\n    async initAllColumn(row, id) {\r\n      this.column_id = id;\r\n      let url = \"\";\r\n      if (this.$route.query.id) {\r\n        url =\r\n          this.baseUrl.ip1 +\r\n          `/directory/columnList?directory_id=${this.column_id}&role_id=${this.$route.query.id}`;\r\n      } else {\r\n        url =\r\n          this.baseUrl.ip1 +\r\n          `/directory/columnList?directory_id=${this.column_id}`;\r\n      }\r\n      const { data: res } = await this.$http.get(url);\r\n      const list = res;\r\n      this.AllData = res.all_column;\r\n      this.hiddenData = res.hide_column;\r\n      this.showData = res.show_column;\r\n      let appObj = [];\r\n      this.AllData.forEach((item) => {\r\n        appObj.push({\r\n          key: item.field,\r\n          label: item.name,\r\n        });\r\n      });\r\n      for (var a = 0; a < this.tableData.length; a++) {\r\n        for (var b = 0; b < this.tableData[a].secondAll.length; b++) {\r\n          var bb = this.tableData[a].secondAll[b];\r\n          if (this.tableData[a].secondAll[b].id == id) {\r\n            this.hiddenData = [];\r\n            var newHidden = this.AllData.map((item, index) => {\r\n              return item.field;\r\n            }).filter((item) => {\r\n              return bb.list.includes(item) ? \"\" : item;\r\n            });\r\n            this.hiddenData = this.AllData.filter((v) =>\r\n              newHidden.includes(v.field)\r\n            );\r\n          }\r\n        }\r\n      }\r\n      this.cinfigShow();\r\n    },\r\n\r\n    /*---------------列设置结束---------------*/\r\n  },\r\n  created() {\r\n    if (this.$route.query.id) {\r\n      this.title = \"编辑角色\";\r\n    } else {\r\n      this.title = \"新增角色\";\r\n    }\r\n    if (this.$route.query.id) {\r\n      //有id，证明是编辑进来的\r\n      this.getRoleInfo();\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.addRoles_title {\r\n  margin-bottom: 30px;\r\n  .formTitle {\r\n    margin: 0 10px 20px;\r\n    font-size: 14px;\r\n    // border-bottom:1px solid #eee;\r\n    color: rgb(102, 102, 102);\r\n    font-weight: 700;\r\n  }\r\n}\r\n// .buttonClass{\r\n\r\n// }\r\n.tableClass {\r\n  ::v-deep .el-form-item {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  // .table-header{\r\n  //   ::v-deep .el-table .cell{\r\n  //   margin-left: 20px;\r\n  // }\r\n  // }\r\n  .table-border {\r\n    ::v-deep .el-checkbox__inner {\r\n      border: none;\r\n      background: none;\r\n    }\r\n  }\r\n  .useClass {\r\n    ::v-deep .el-form-item__content {\r\n      line-height: 22px;\r\n    }\r\n    ::v-deep .el-button {\r\n      padding: 0;\r\n    }\r\n  }\r\n  //   .el-form-item__content {\r\n  //     line-height: 40px;\r\n  //     position: relative;\r\n  //     font-size: 14px;\r\n  // }\r\n  .table-name {\r\n    ::v-deep .el-form-item__content {\r\n      line-height: 1.5;\r\n    }\r\n    ::v-deep .el-checkbox {\r\n      margin-right: 0;\r\n      display: block;\r\n    }\r\n    ::v-deep .el-button {\r\n      padding: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n<vue-filename-injector>\nexport default function (Component) {\n  Component.options.__source = \"src/views/pages/accountManage/roleMeg/editRoles/index.vue\"\n}\n</vue-filename-injector>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/@d2-projects/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/@d2-projects/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=script&lang=js&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default function (Component) {\n  Component.options.__source = \"src/views/pages/accountManage/roleMeg/editRoles/index.vue\"\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/@d2-projects/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=custom&index=0&blockType=vue-filename-injector\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../node_modules/@d2-projects/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=custom&index=0&blockType=vue-filename-injector\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=361c5b06&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=361c5b06&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"361c5b06\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./index.vue?vue&type=custom&index=0&blockType=vue-filename-injector\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports"],"sourceRoot":""}