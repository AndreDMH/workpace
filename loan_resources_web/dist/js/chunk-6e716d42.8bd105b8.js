(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e716d42"],{1513:function(e,t,i){},"98a7":function(e,t,i){"use strict";i("1513")},fb32:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"trafficplatformList"},[i("d2-container",[i("template",{slot:"header"},[i("div",{staticClass:"flex ryt-right-top"},[i("div",{staticClass:"line_header"}),e._v("平台列表 ")]),i("div",{staticClass:"menuPartClass"},[i("el-button",{staticStyle:{"margin-right":"8px","margin-left":"11px","margin-top":"11px"},attrs:{type:"primary",size:"mini"},on:{click:e.newButton}},[i("i",{staticClass:"el-icon-circle-plus-outline"},[e._v(" 新增平台")])]),i("el-popover",{attrs:{placement:"bottom-end",width:"160"},model:{value:e.visibleUp,callback:function(t){e.visibleUp=t},expression:"visibleUp"}},[i("p",[e._v("您确定启用该流量平台吗？")]),i("div",{staticStyle:{margin:"0","text-align":"right"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:e.cancelUp}},[e._v("取消")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.upButton}},[e._v("确定")])],1),i("el-button",{staticStyle:{"margin-right":"8px"},attrs:{slot:"reference",size:"mini",disabled:0==e.forbidden},slot:"reference"},[i("d2-icon",{attrs:{name:"play"}}),e._v(" 启用 ")],1)],1),i("el-popover",{attrs:{placement:"bottom-end",width:"160"},model:{value:e.visibleDown,callback:function(t){e.visibleDown=t},expression:"visibleDown"}},[i("p",[e._v("您确定暂停该流量平台吗？")]),i("div",{staticStyle:{margin:"0","text-align":"right"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:e.cancelDown}},[e._v("取消")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.downButton}},[e._v("确定")])],1),i("el-button",{attrs:{slot:"reference",size:"mini",disabled:0==e.paused},slot:"reference"},[i("d2-icon",{attrs:{name:"pause"}}),e._v(" 暂停 ")],1)],1),i("el-form",{directives:[{name:"show",rawName:"v-show",value:!e.isOpen,expression:"!isOpen"}],ref:"form",staticStyle:{"margin-right":"0px","margin-top":"-32px","margin-bottom":"-20px"},attrs:{inline:!0,model:e.form,size:"small"}},[i("el-row",{staticStyle:{"margin-top":"40px","margin-left":"11px"}},[i("el-form-item",{attrs:{label:"",prop:"status"}},[i("span",{staticClass:"ryt-select-text"},[e._v("状态：")]),i("el-select",{staticClass:"ryt-select-left3",staticStyle:{width:"180px"},attrs:{size:"mini",filterable:"",placeholder:"请选择状态"},on:{change:function(t){return e.changeStatus()}},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.stateFilters,(function(e,t){return i("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),i("el-form-item",{attrs:{label:""}},[i("el-input",{staticStyle:{width:"180px"},attrs:{size:"mini",placeholder:"请输入流量平台名称"},on:{change:function(t){return e.nameChange(t,"plat")}},model:{value:e.form.platform_name,callback:function(t){e.$set(e.form,"platform_name",t)},expression:"form.platform_name"}}),i("i",{staticClass:"fa fa-search ryt-search-icon",attrs:{"aria-hidden":"true"}})],1),i("el-form-item",{attrs:{label:"",prop:"operation_arr"}},[i("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择负责运营"},on:{change:function(t){return e.changeStatus()}},model:{value:e.form.operation_arr,callback:function(t){e.$set(e.form,"operation_arr",t)},expression:"form.operation_arr"}},e._l(e.operationFilters,(function(e,t){return i("el-option",{key:t,attrs:{label:e.operation_name,value:e.operation_id}})})),1)],1),i("el-form-item",{attrs:{label:"",prop:"business_arr"}},[i("el-select",{staticStyle:{width:"180px"},attrs:{size:"mini",filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择负责市场"},on:{change:function(t){return e.changeStatus()}},model:{value:e.form.business_arr,callback:function(t){e.$set(e.form,"business_arr",t)},expression:"form.business_arr"}},e._l(e.businessFilters,(function(e,t){return i("el-option",{key:t,attrs:{label:e.business_name,value:e.business_id}})})),1)],1)],1)],1)],1)]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"-20px"},attrs:{data:e.currentTableData,size:"mini",border:"","header-cell-style":{background:"#f5f5f5"}},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),i("el-table-column",{attrs:{align:"center",label:"平台名称",width:"150",fixed:"left",prop:"media_platform_name"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{trigger:"hover",placement:"top"}},[i("p",[e._v("平台id："+e._s(t.row.id)+" "),i("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.id,expression:"scope.row.id",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text",size:"mini"}},[e._v("复制")])],1),i("p",[e._v("平台code："+e._s(t.row.media_platform_code)+" "),i("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.media_platform_code,expression:"scope.row.media_platform_code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"text",size:"mini"}},[e._v("复制")])],1),i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.media_platform_name))])])]}}])}),i("el-table-column",{attrs:{align:"center",label:"状态",width:"100",prop:"status","column-key":"status","filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#409EFF","inactive-color":"#DEDEDE"},on:{change:function(i){return e.switchChange(t.row,i)}},model:{value:t.row.status,callback:function(i){e.$set(t.row,"status",i)},expression:"scope.row.status"}})]}}])}),i("el-table-column",{attrs:{align:"center",label:"应用",width:"150",prop:"media_count"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[0==t.row.media_count?i("div",{staticStyle:{"margin-right":"6px",width:"38px"}},[e._v(e._s(t.row.media_count)+" (个)")]):i("div",{staticStyle:{"margin-right":"6px",width:"38px"}},[i("el-button",{staticStyle:{color:"#409EFF"},attrs:{type:"text",size:"medium"},on:{click:function(i){return e.filterMeida(t.row)}}},[e._v(e._s(t.row.media_count)+" (个)")])],1),i("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{color:"#409EFF","font-size":"13px","margin-left":"18px"},attrs:{"aria-hidden":"true"},on:{click:function(i){return e.createMedia(t.row)}}},[e._v("添加")])])]}}])}),i("el-table-column",{attrs:{align:"center",label:"负责运营",prop:"operation_name"}},[void 0],2),i("el-table-column",{attrs:{align:"center",label:"负责市场",prop:"business_name"}},[void 0],2),i("el-table-column",{attrs:{align:"center",label:"创建时间",width:"200",prop:"created_at"}},[void 0],2),i("el-table-column",{attrs:{align:"center",label:"最后修改时间",width:"200",prop:"updated_at"}},[void 0],2),i("el-table-column",{attrs:{align:"center",label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(i){return e.handleClick(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.openSystem(t.row)}}},[e._v("开通分账")]),i("el-button",{attrs:{type:"text"},on:{click:function(i){return e.adminClick(t.row)}}},[e._v("账号管理")])]}}])})],1),i("el-pagination",{staticStyle:{margin:"-10px"},attrs:{slot:"footer","current-page":e.listQuery.current,"page-size":e.listQuery.pageSize,total:e.total,"page-sizes":[10,20,40,60],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange},slot:"footer"}),i("el-dialog",{attrs:{visible:e.dialogTableVisibleForm,width:"45%"},on:{"update:visible":function(t){e.dialogTableVisibleForm=t}},scopedSlots:e._u([{key:"title",fn:function(){return[i("span",[e._v(e._s(e.plat_title))])]},proxy:!0}])},[i("el-form",{ref:"mainForm",attrs:{model:e.mainForm,rules:e.rytproject,"label-width":"240px"}},[i("el-form-item",{attrs:{label:"平台名称：",prop:"media_platform_name"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入平台名称"},model:{value:e.mainForm.media_platform_name,callback:function(t){e.$set(e.mainForm,"media_platform_name",t)},expression:"mainForm.media_platform_name"}})],1),i("el-form-item",{attrs:{label:"公司名称：",prop:"company_name"}},[i("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入公司名称"},model:{value:e.mainForm.company_name,callback:function(t){e.$set(e.mainForm,"company_name",t)},expression:"mainForm.company_name"}})],1),i("el-form-item",{attrs:{label:"运营：",prop:"operation_id_arr"}},[i("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择",filterable:"",multiple:""},model:{value:e.mainForm.operation_id_arr,callback:function(t){e.$set(e.mainForm,"operation_id_arr",t)},expression:"mainForm.operation_id_arr"}},e._l(e.operation,(function(e,t){return i("el-option",{key:t,attrs:{label:e.operation_name,value:e.operation_id}})})),1)],1),i("el-form-item",{attrs:{label:"市场：",prop:"business_id_arr"}},[i("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择",filterable:"",multiple:""},model:{value:e.mainForm.business_id_arr,callback:function(t){e.$set(e.mainForm,"business_id_arr",t)},expression:"mainForm.business_id_arr"}},e._l(e.business,(function(e,t){return i("el-option",{key:t,attrs:{label:e.business_name,value:e.business_id}})})),1)],1)],1),i("div",{staticStyle:{"text-align":"center","margin-top":"50px"},attrs:{type:"flex"}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitRule("form")}}},[e._v("提交")]),i("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)],1),i("el-dialog",{staticStyle:{width:"60%",margin:"auto"},attrs:{title:"基本信息",visible:e.dialogTableVisible,center:!0},on:{"update:visible":function(t){e.dialogTableVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[i("span",{staticClass:"dialog-footer"},[i("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.clickAccount()}}},[e._v("生成账号")])],1)]},proxy:!0}])},[i("el-form",{ref:"systemForm",attrs:{model:e.systemForm,size:"mini","label-width":"80px",inline:!0}},[i("el-form-item",{attrs:{label:"账户名称",prop:"account_name"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入账户名称"},model:{value:e.systemForm.account_name,callback:function(t){e.$set(e.systemForm,"account_name",t)},expression:"systemForm.account_name"}})],1),i("el-form-item",{attrs:{label:"登陆账号",prop:"account_phone"}},[i("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入手机号",oninput:"value=value.replace(/[^\\d]/g,'')",maxlength:"11"},model:{value:e.systemForm.account_phone,callback:function(t){e.$set(e.systemForm,"account_phone",t)},expression:"systemForm.account_phone"}})],1)],1)],1),i("el-dialog",{staticStyle:{width:"50%",position:"absolute",margin:"auto"},attrs:{title:"用户信息",visible:e.dialogAccountVisible},on:{"update:visible":function(t){e.dialogAccountVisible=t}},scopedSlots:e._u([e.isSearch?{key:"footer",fn:function(){return[i("span",{staticClass:"dialog-footer"},[i("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.openingSuccess.password,expression:"openingSuccess.password",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"primary",size:"medium"}},[e._v("复制")])],1)]},proxy:!0}:null],null,!0)},[i("div",{staticClass:"successText"},[i("p",[i("i",{staticClass:"el-icon-user"}),e._v("用户名："+e._s(e.openingSuccess.name))]),i("p",[i("i",{staticClass:"el-icon-mobile-phone"}),e._v("手机号："+e._s(e.openingSuccess.mobile))]),e.isSearch?i("p",[i("i",{staticClass:"fa fa-key"}),e._v("密 码："+e._s(e.openingSuccess.password))]):e._e()])])],2)],1)},r=[],n=(i("7f7f"),i("ac6a"),i("96cf"),i("3b8d")),s={name:"traddicplatform",data:function(){return{isOpen:!1,loading:!1,isSearch:!0,currentTableData:[],listQuery:{columns:"",orders:"",pageSize:10,current:1},total:0,stateFilters:[{label:"全部",value:""},{label:"启用",value:1},{label:"暂停",value:0}],mediaArr:[],operationFilters:[],businessFilters:[],infoDelete:[],idlist:[],drawer:!1,form:{media_platform_name:"",media_platform_code:"",status:"",platform_arr:[],operation_arr:[],business_arr:[]},visibleDete:!1,visibleUp:!1,visibleDown:!1,forbidden:!1,deteleOut:!1,paused:!1,dialogTableVisible:!1,dialogAccountVisible:!1,systemForm:{account_name:"",account_phone:""},openingSuccess:{mobile:"",name:"",password:""},iseditAccount:!1,plat_title:"新增平台",dialogTableVisibleForm:!1,mainForm:{media_platform_name:"",company_name:"",operation_id_arr:"",business_id_arr:""},business:[],operation:[],submitID:"",systemID:"",rytproject:{media_platform_name:[{required:!0,message:"流量平台名称不能为空",trigger:"blur"}],company_name:[{required:!0,message:"公司名称不能为空",trigger:"blur"}],business_id_arr:[{required:!0,message:"请选择平台商务",trigger:"blur"}],operation_id_arr:[{required:!0,message:"请选择平台运营",trigger:"blur"}]}}},created:function(){this.getTrafficplatform(),this.getOperation(),this.getBusiness()},methods:{clickAccount:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.post(this.baseUrl.ip1+"/sourceSys/mediaPlatform/createChildAccount",{name:this.systemForm.account_name,mobile:this.systemForm.account_phone,media_platform_id:this.systemID});case 2:t=e.sent,this.openingSuccess=t.data,this.dialogTableVisible=!1,200==t.code?(this.isSearch=!0,this.dialogAccountVisible=!0):this.$message.error("新建失败");case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onCopy:function(){this.$message({type:"info",message:"复制成功"})},submitRule:function(e){var t=this;this.$refs.mainForm.validate((function(e){e?t.submitForm():t.$message({type:"info",message:"您有未填写的信息，请检查"})}))},submitForm:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},t.media_platform_name=this.mainForm.media_platform_name,t.company_name=this.mainForm.company_name,t.operation_id_arr=this.mainForm.operation_id_arr,t.business_id_arr=this.mainForm.business_id_arr,"编辑平台"==this.plat_title&&(t.id=this.submitID),e.next=5,this.$http.post(this.baseUrl.ip1+"/sourceSys/mediaPlatform/store",t).then((function(e){200==e.code&&(i.$message.success(e.msg),i.dialogTableVisibleForm=!1,i.getTrafficplatform())}));case 5:e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function(){this.dialogTableVisibleForm=!1},getTrafficplatform:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t=this.baseUrl.ip1+"/sourceSys/mediaPlatform/index",i={limit:this.listQuery.pageSize,page:1,media_platform_name:this.form.media_platform_name,media_platform_code:this.form.media_platform_code,status:this.form.status,platform_arr:this.form.platform_arr,operation_arr:this.form.operation_arr,business_arr:this.form.business_arr},e.next=5,this.$http.post(t,i);case 5:a=e.sent,r=a.data,this.currentTableData=r.data,this.listQuery.current=r.current_page,this.listQuery.limit=r.per_page,this.total=r.total,this.loading=!1,console.log("获取数据",this.currentTableData);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getOperation:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.baseUrl.ip1+"/sourceSys/options/operation");case 2:t=e.sent,i=t.data,console.log("运营人员下拉列表",i),a=i,a.forEach((function(e,t){r.operationFilters.push({operation_name:e.name,operation_id:e.id}),r.operation.push({operation_name:e.name,operation_id:e.id})}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBusiness:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.baseUrl.ip1+"/sourceSys/options/business");case 2:t=e.sent,i=t.data,console.log("商务人员下拉列表",i),a=i,a.forEach((function(e,t){r.businessFilters.push({business_name:e.name,business_id:e.id}),r.business.push({business_name:e.name,business_id:e.id})}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.listQuery.pageSize=e,this.getTrafficplatform()},handleCurrentChange:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listQuery.current=t,this.loading=!0,i={limit:this.listQuery.pageSize,page:this.listQuery.current,media_platform_name:this.form.media_platform_name,media_platform_code:this.form.media_platform_code,status:this.form.status,platform_arr:this.form.platform_arr,operation_arr:this.form.operation_arr,business_arr:this.form.business_arr},e.next=5,this.$http.post(this.baseUrl.ip1+"/sourceSys/mediaPlatform/index",i);case 5:a=e.sent,r=a.data,this.currentTableData=r.data,this.listQuery.current=r.current_page,this.listQuery.limit=r.per_page,this.total=r.total,this.loading=!1;case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleSelectionChange:function(e){var t=this;this.infoDelete=e;var i=[];this.infoDelete.map((function(e){i.push(e.id)})),this.idlist=i;var a=!1,r=!1;e.length>0?e.forEach((function(e){1==e.status&&(a=!0),0==e.status&&(r=!0),a&&r?(t.forbidden=!0,t.deteleOut=!1,t.paused=!0):a?(t.forbidden=!1,t.deteleOut=!1,t.paused=!0):r?(t.forbidden=!0,t.deteleOut=!0,t.paused=!1):(t.forbidden=!0,t.deteleOut=!0,t.paused=!0)})):(this.forbidden=!1,this.deteleOut=!1,this.paused=!1)},nameChange:function(e,t){"plat"==t?this.form.media_platform_name=e:"code"==t&&(this.form.media_platform_code=e),this.getTrafficplatform()},changeStatus:function(){this.getTrafficplatform()},newButton:function(){this.mainForm={media_platform_name:"",company_name:"",operation_id_arr:"",business_id_arr:""},this.dialogTableVisibleForm=!0,this.plat_title="新增平台"},handleClick:function(e){this.dialogTableVisibleForm=!0,this.plat_title="编辑平台",this.mainForm={media_platform_name:"",company_name:"",operation_id_arr:"",business_id_arr:""},this.mainForm.media_platform_name=e.media_platform_name,this.mainForm.company_name=e.company_name,this.mainForm.operation_id_arr=e.operation_id_arr,this.mainForm.business_id_arr=e.business_id_arr,this.submitID=e.id},openSystem:function(e){this.systemForm={account_name:"",account_phone:""},this.dialogTableVisible=!0,this.systemID=e.id},adminClick:function(e){this.isSearch=!1,this.searchAccount(e)},searchAccount:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.baseUrl.ip1+"/sourceSys/mediaPlatform/getChildAccount/".concat(t.id));case 2:i=e.sent,200==i.code&&(this.dialogAccountVisible=!0,this.openingSuccess.mobile=i.data.mobile,this.openingSuccess.name=i.data.name);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteButton:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.visibleDete=!1,t={id_arr:this.idlist},i=this.baseUrl.ip1+"/sourceSys/mediaPlatform/delete",e.next=5,this.$http.post(i,t);case 5:a=e.sent,a.data,this.$message.success("删除成功"),this.getTrafficplatform();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelDelete:function(){this.visibleDete=!1,this.$message.error("取消删除操作")},upButton:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.visibleUp=!1,t={id_arr:this.idlist,status:"1"},e.next=4,this.$http.post(this.baseUrl.ip1+"/sourceSys/mediaPlatform/updateStatus",t);case 4:i=e.sent,i.data,this.$message.success("启用成功"),this.getTrafficplatform();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelUp:function(){this.visibleUp=!1,this.$message.error("取消启用操作")},downButton:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i,a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.visibleDown=!1,t={id_arr:this.idlist,status:"0"},e.next=4,this.$http.post(this.baseUrl.ip1+"/sourceSys/mediaPlatform/updateStatus",t);case 4:i=e.sent,a=i.data,r=a.isOperate,1==r?this.$confirm("此操作将导致投放暂停，是否继续","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"confirm"==t?s.putIn():s.$message.error("取消暂停操作");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}):this.putIn();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelDown:function(){this.visibleDown=!1,this.$message.error("取消暂停操作")},putIn:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={id_arr:this.idlist,status:"0"},e.next=3,this.$http.post(this.baseUrl.ip1+"/mediaPlatform/upStatus",t);case 3:i=e.sent,i.data,this.$message.success("暂停成功"),this.getTrafficplatform();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),switchChange:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,i){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t,i,this.idlist),a=this,r=[],r.push(t.id),n={status:i,id_arr:r},e.next=7,this.$http.post(this.baseUrl.ip1+"/sourceSys/mediaPlatform/updateStatus",n).then((function(e){200==e.code?(a.$message.success("状态修改成功"),this.getTrafficplatform()):this.getTrafficplatform()}));case 7:e.sent;case 8:case"end":return e.stop()}}),e,this)})));function t(t,i){return e.apply(this,arguments)}return t}(),createMedia:function(e){this.$router.push({path:"mediaList/editMedias",query:{id:e.id,type:"1",where:"trafficplatform"}})},filterMeida:function(e){this.$router.push({path:"mediaList",query:{media_platform_id:e.id}})}}},o=s,l=(i("98a7"),i("2877")),c=function(e){e.options.__source="src/views/pages/mediaManage/trafficplatform/index.vue"},u=c,m=Object(l["a"])(o,a,r,!1,null,null,null);"function"===typeof u&&u(m);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-6e716d42.8bd105b8.js.map